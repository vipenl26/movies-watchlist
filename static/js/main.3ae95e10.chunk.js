(this["webpackJsonpmovies-watchlist"]=this["webpackJsonpmovies-watchlist"]||[]).push([[0],{20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(14),i=a.n(s),r=(a(20),a(3)),l=(a(21),a(5)),o=a(2),d=(a(22),a(0));var j=function(){return Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mynav",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)(l.b,{className:"navbar-brand",to:"/movies-watchlist",children:Object(d.jsxs)("div",{id:"ph",children:["Watch\u2002",Object(d.jsx)("div",{id:"hub",children:"Box"})]})}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(d.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeclassname:"nav-link","aria-current":"page",to:"/movies-watchlist",children:"Browse"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeclassname:"nav-link",to:"/watch-list",children:"Watch-List"})}),Object(d.jsxs)("li",{className:"nav-item dropdown",children:[Object(d.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"DropDown"}),Object(d.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"dropdown-item",target:"_blank",href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",children:"Don't Click"})})})]})]})})]})})},b=a(9),h=a.n(b),u=a(10),m=a(15),g=function(e,t,a){return e?(n=function(){t(!1),fetch("http://localhost:3001/watch-list",{method:"DELETE",body:'{"id":'.concat(a.id,"}"),headers:{"Content-Type":"application/json"}}).catch((function(e){console.log("backendserver is down")}));var e=JSON.parse(localStorage.getItem("liked"));e=e.filter((function(e){return e.id!==a.id})),localStorage.setItem("liked",JSON.stringify(e))},Object(d.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:n,children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-heart-fill",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})})})):function(e){return Object(d.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:e,children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-heart",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})})})}((function(){t(!0),fetch("http://localhost:3001/watch-list",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).catch((function(e){console.log("backendserver is down")}));var e=JSON.parse(localStorage.getItem("liked"));e.push(a),localStorage.setItem("liked",JSON.stringify(e))}));var n},p=function(e){var t=Object(n.useState)(e.liked),a=Object(r.a)(t,2),c=a[0],s=a[1];return Object(d.jsx)("div",{className:"col",children:Object(d.jsxs)("div",{className:"card text-white",style:{width:"18rem",background:"rgb(255,163,26)"},children:[Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+e.data.poster_path,className:"card-img-top",alt:"..."}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:e.data.original_title}),Object(d.jsx)("p",{className:"card-text",children:e.data.overview.slice(0,50)+"..."}),Object(d.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[Object(d.jsx)("button",{className:"btn btn-secondary me-md-2",type:"button",onClick:function(){return e.setPopData(e.data)},children:"Read More"}),g(c,s,e.data)]})]})]})})};function v(){return(v=Object(m.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,localStorage.setItem("results",JSON.stringify(n)),e.abrupt("return",n.results);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var O=function(e){var t=Object(n.useState)({count:0,mlist:[]}),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(new Set),l=Object(r.a)(i,2),o=l[0];l[1];Object(n.useEffect)((function(){for(var e=JSON.parse(localStorage.getItem("liked")),t=0;null!==e&&t<e.length;t++)o.add(e[t].id)}),[e.currentPage]);return Object(n.useEffect)((function(){var t=function(e){return v.apply(this,arguments)}("https://api.themoviedb.org/3/discover/movie?api_key=15d2ea6d0dc1d476efbca3eba2b9bbfb&page=".concat(e.currentPage));t.then((function(e){return e})).then((function(t){return t.map((function(t){return Object(d.jsx)(p,{data:t,liked:o.has(t.id),setPopData:e.setPopData},t.id)}))})).then((function(e){s((function(t){return Object(u.a)(Object(u.a)({},t),{},{mlist:e})}))})).catch((function(e){console.log(e)})),window.scrollTo(0,0)}),[e.currentPage]),Object(d.jsx)("div",{className:"container my-4",children:Object(d.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xxl-4 g-2 g-lg-3",children:c.mlist})})};a(25);var x=function(){return Object(d.jsx)("div",{className:"footerHolder",children:Object(d.jsx)("footer",{className:"footer",children:Object(d.jsxs)("div",{className:"waves",children:[Object(d.jsx)("div",{className:"wave",id:"wave1"}),Object(d.jsx)("div",{className:"wave",id:"wave2"}),Object(d.jsx)("div",{className:"wave",id:"wave3"}),Object(d.jsx)("div",{className:"wave",id:"wave4"}),Object(d.jsxs)("ul",{className:"social-icon",children:[Object(d.jsx)("li",{className:"social-icon__item",children:Object(d.jsx)("a",{className:"social-icon__link",target:"_blank",href:"https://twitter.com/vipenl26",children:Object(d.jsx)("ion-icon",{name:"logo-twitter"})})}),Object(d.jsx)("li",{className:"social-icon__item",children:Object(d.jsx)("a",{className:"social-icon__link",target:"_blank",href:"https://www.linkedin.com/in/vipen-loka-75291b124/",children:Object(d.jsx)("ion-icon",{name:"logo-linkedin"})})}),Object(d.jsx)("li",{className:"social-icon__item",children:Object(d.jsx)("a",{className:"social-icon__link",target:"_blank",href:"https://www.instagram.com/vipenl26/",children:Object(d.jsx)("ion-icon",{name:"logo-instagram"})})})]}),Object(d.jsx)("p",{children:"\xa92021 vipenl26 | All Rights Reserved"})]})})})},f=(a(26),new Map([[28,"Action"],[12,"Adventure"],[16,"Animation"],[35,"Comedy"],[80,"Crime"],[99,"Documentary"],[18,"Drama"],[10751,"Family"],[14,"Fantasy"],[36,"History"],[27,"Horror"],[10402,"Music"],[9648,"Mystery"],[10749,"Romance"],[878,"Sci-Fi"],[10770,"TV Movie"],[53,"Thriller"],[10752,"War"],[37,"Western"]])),w=function(e){var t,a=e.data.genre_ids.map((function(e){return Object(d.jsx)("span",{className:"tag genre",children:f.get(e)},f.get(e))}));return Object(d.jsx)("div",{className:"pop-movie-card-holder",id:"overlay",children:Object(d.jsx)("div",{className:"movie-card",children:Object(d.jsxs)("div",{className:"pop-container",children:[Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+e.data.poster_path,alt:"cover",className:"cover"}),Object(d.jsxs)("div",{className:"hero",children:[Object(d.jsx)("style",{children:(t="https://image.tmdb.org/t/p/w500"+e.data.backdrop_path,'\n.pop-movie-card-holder .hero:before {\n    content: "";\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    left: 0;\n    background: red;\n    background: url("'.concat(t,'");\n    background-size: 800px;\n    z-index: -1;\n    -webkit-transform: skewY(-2.2deg);\n    transform: skewY(-2.2deg);\n    -webkit-transform-origin: 0 0;\n    transform-origin: 0 0;\n    backface-visibility: hidden;\n  }\n'))}),Object(d.jsx)("button",{type:"button",className:"btn-close btn-close-white pop-close-button","aria-label":"Close",onClick:function(){return e.setPopData(!1)}}),Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("div",{className:"title1",children:e.data.original_title.slice(0,25)}),Object(d.jsx)("div",{className:"title2",children:e.data.original_title.slice(25)}),Object(d.jsxs)("span",{className:"tag avg-rating",children:["Rating ",e.data.vote_average]})]})]}),Object(d.jsxs)("div",{className:"description",children:[Object(d.jsx)("div",{className:"column1",children:a}),Object(d.jsx)("div",{className:"column2",children:Object(d.jsx)("p",{children:e.data.overview})})]})]})})})},N=(a(27),function(e){for(var t=[Object(d.jsx)("li",{className:"page-item",children:Object(d.jsx)("button",{className:"page-link",onClick:function(){return e.setCurrentPage((function(e){return Math.max(1,e-1)}))},children:"Previous"})},"prev")],a=function(a){var n="";a===e.currentPage&&(n=" page-item-current"),t.push(Object(d.jsx)("li",{className:"page-item",children:Object(d.jsx)("button",{className:"page-link"+n,onClick:function(){e.setCurrentPage(a)},children:a})},a))},n=1;n<=35;n++)a(n);return t.push(Object(d.jsx)("li",{className:"page-item",children:Object(d.jsx)("button",{className:"page-link",onClick:function(){return e.setCurrentPage((function(e){return Math.min(1e3,e+1)}))},children:"Next"})},"next")),Object(d.jsx)("ul",{className:"pagination pagination-sm justify-content-center page-button-bar",children:t})}),k=function(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){fetch("http://localhost:3001/watch-list").then((function(e){return e.json()})).then((function(e){localStorage.setItem("liked",JSON.stringify(e))})).catch((function(e){console.log("backend server is offline")})).finally((function(){var e=JSON.parse(localStorage.getItem("liked"));s(e)}))}),[]);var i=c.map((function(t){return Object(d.jsx)(p,{data:t,setPopData:e.setPopData,liked:!0},t.id)}));return 0==i.length&&i.push([Object(d.jsxs)("h3",{style:{marginBottom:"40%",color:"rgb(255,163,26)"},children:["Click on"," ",Object(d.jsx)("button",{type:"button",className:"btn btn-outline-danger",children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-heart",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})})}),"to add to watchlist"]},"1")]),Object(d.jsx)("div",{className:"container my-4",children:Object(d.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xxl-4 g-2 g-lg-3",children:i})})},y=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(1),i=Object(r.a)(s,2),b=i[0],h=i[1];return Object(n.useEffect)((function(){localStorage.setItem("liked",JSON.stringify([])),fetch("http://localhost:3001/watch-list").then((function(e){return e.json()})).then((function(e){localStorage.setItem("liked",JSON.stringify(e))})).catch((function(e){console.log("backend server is offline")}))}),[]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/movies-watchlist",element:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{setPopData:c,currentPage:b}),Object(d.jsx)(N,{setCurrentPage:h,currentPage:b})]})}),Object(d.jsx)(o.a,{exact:!0,path:"/watch-list",element:Object(d.jsx)(k,{setPopData:c})})]}),a&&Object(d.jsx)(w,{data:a,setPopData:c}),Object(d.jsx)(x,{})]})})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};a(28),a(29);i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),C()}},[[51,1,2]]]);
//# sourceMappingURL=main.3ae95e10.chunk.js.map